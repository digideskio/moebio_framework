<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Moebio Framework: Source: dataStructures/structures/lists/NodeList.js</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:700italic,400,700' rel='stylesheet' type='text/css'>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/style.css">
</head>

<body onload="prettyPrint()">

<div class='hide-mobile pin-left pint-top pin-bottom col2 quiet-scroll scroll-styled fixed'>

  <div class='clearfix fill-background dark center'>
    <div class='inline pad2y'>
      <a href="../">Moebio Framework</a> / <a href="index.html">Docs</a>
    </div>
  </div>
  <div class='pad1 small'>
    <div class="filter-block clearfix">
      <input type="text" id="filter-input" placeholder="Type to filter">
      <a href="#" id="clear-filter-button">x</a>
    </div>
    <div class='side'>
      <h3>Numbers</h3>
<div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Classes</strong></div><ul>
<li class="code"><a href="Axis2D.html">Axis2D</a></li><li class="code"><a href="Interval.html">Interval</a></li><li class="code"><a href="Matrix.html">Matrix</a></li><li class="code"><a href="NumberList.html">NumberList</a></li><li class="code"><a href="NumberTable.html">NumberTable</a></li></ul></div><div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Namespaces</strong></div><ul>
<li class="code"><a href="IntervalListOperators.html">IntervalListOperators</a></li><li class="code"><a href="IntervalTableOperators.html">IntervalTableOperators</a></li><li class="code"><a href="MatrixGenerators.html">MatrixGenerators</a></li><li class="code"><a href="NumberListConversions.html">NumberListConversions</a></li><li class="code"><a href="NumberListGenerators.html">NumberListGenerators</a></li><li class="code"><a href="NumberListOperators.html">NumberListOperators</a></li><li class="code"><a href="NumberOperators.html">NumberOperators</a></li><li class="code"><a href="NumberTableConversions.html">NumberTableConversions</a></li><li class="code"><a href="NumberTableFlowOperators.html">NumberTableFlowOperators</a></li><li class="code"><a href="NumberTableOperators.html">NumberTableOperators</a></li></ul></div><h3>Colors</h3>
<div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Classes</strong></div><ul>
<li class="code"><a href="ColorList.html">ColorList</a></li><li class="code"><a href="ColorScale.html">ColorScale</a></li></ul></div><div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Namespaces</strong></div><ul>
<li class="code"><a href="ColorGenerators.html">ColorGenerators</a></li><li class="code"><a href="ColorListGenerators.html">ColorListGenerators</a></li><li class="code"><a href="ColorListOperators.html">ColorListOperators</a></li><li class="code"><a href="ColorOperators.html">ColorOperators</a></li><li class="code"><a href="ColorScaleGenerators.html">ColorScaleGenerators</a></li><li class="code"><a href="ColorScales.html">ColorScales</a></li></ul></div><h3>Geo</h3>
<div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Classes</strong></div><ul>
<li class="code"><a href="Country.html">Country</a></li><li class="code"><a href="CountryList.html">CountryList</a></li></ul></div><div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Namespaces</strong></div><ul>
<li class="code"><a href="CountryListOperators.html">CountryListOperators</a></li><li class="code"><a href="CountryOperators.html">CountryOperators</a></li><li class="code"><a href="GeoOperators.html">GeoOperators</a></li></ul></div><h3>Basics</h3>
<div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Classes</strong></div><ul>
<li class="code"><a href="DataModel.html">DataModel</a></li><li class="code"><a href="List.html">List</a></li><li class="code"><a href="Table.html">Table</a></li></ul></div><div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Namespaces</strong></div><ul>
<li class="code"><a href="ListConversions.html">ListConversions</a></li><li class="code"><a href="ListGenerators.html">ListGenerators</a></li><li class="code"><a href="ListOperators.html">ListOperators</a></li><li class="code"><a href="ObjectConversions.html">ObjectConversions</a></li><li class="code"><a href="ObjectOperators.html">ObjectOperators</a></li><li class="code"><a href="TableConversions.html">TableConversions</a></li><li class="code"><a href="TableEncodings.html">TableEncodings</a></li><li class="code"><a href="TableGenerators.html">TableGenerators</a></li><li class="code"><a href="TableOperators.html">TableOperators</a></li></ul></div><h3>Dates</h3>
<div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Classes</strong></div><ul>
<li class="code"><a href="DateAxis.html">DateAxis</a></li><li class="code"><a href="DateInterval.html">DateInterval</a></li><li class="code"><a href="DateList.html">DateList</a></li></ul></div><div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Namespaces</strong></div><ul>
<li class="code"><a href="DateListConversions.html">DateListConversions</a></li><li class="code"><a href="DateListOperators.html">DateListOperators</a></li><li class="code"><a href="DateOperators.html">DateOperators</a></li></ul></div><h3>Drawing</h3>
<div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Classes</strong></div><ul>
<li class="code"><a href="DragDetection.html">DragDetection</a></li><li class="code"><a href="Graphics.html">Graphics</a></li><li class="code"><a href="InputTextFieldHTML.html">InputTextFieldHTML</a></li><li class="code"><a href="TextBox.html">TextBox</a></li><li class="code"><a href="TextFieldHTML.html">TextFieldHTML</a></li></ul></div><div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Namespaces</strong></div><ul>
<li class="code"><a href="ColorsDraw.html">ColorsDraw</a></li><li class="code"><a href="Draw.html">Draw</a></li><li class="code"><a href="DrawTexts.html">DrawTexts</a></li><li class="code"><a href="DrawTextsAdvanced.html">DrawTextsAdvanced</a></li><li class="code"><a href="ListDraw.html">ListDraw</a></li><li class="code"><a href="NetworkDraw.html">NetworkDraw</a></li><li class="code"><a href="ObjectDraw.html">ObjectDraw</a></li><li class="code"><a href="StringDraw.html">StringDraw</a></li><li class="code"><a href="StringListDraw.html">StringListDraw</a></li><li class="code"><a href="TreeDraw.html">TreeDraw</a></li></ul></div><h3>Geometry</h3>
<div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Classes</strong></div><ul>
<li class="code"><a href="Engine3D.html">Engine3D</a></li><li class="code"><a href="Point.html">Point</a></li><li class="code"><a href="Point3D.html">Point3D</a></li><li class="code"><a href="Polygon.html">Polygon</a></li><li class="code"><a href="Polygon3D.html">Polygon3D</a></li><li class="code"><a href="Polygon3DList.html">Polygon3DList</a></li><li class="code"><a href="PolygonList.html">PolygonList</a></li><li class="code"><a href="Rectangle.html">Rectangle</a></li><li class="code"><a href="RectangleList.html">RectangleList</a></li><li class="code"><a href="Space2D.html">Space2D</a></li></ul></div><div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Namespaces</strong></div><ul>
<li class="code"><a href="GeometryConversions.html">GeometryConversions</a></li><li class="code"><a href="GeometryOperators.html">GeometryOperators</a></li><li class="code"><a href="PointOperators.html">PointOperators</a></li><li class="code"><a href="PolygonGenerators.html">PolygonGenerators</a></li><li class="code"><a href="PolygonListEncodings.html">PolygonListEncodings</a></li><li class="code"><a href="PolygonListOperators.html">PolygonListOperators</a></li><li class="code"><a href="PolygonOperators.html">PolygonOperators</a></li><li class="code"><a href="RectangleOperators.html">RectangleOperators</a></li></ul></div><h3>Networks</h3>
<div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Classes</strong></div><ul>
<li class="code"><a href="Forces.html">Forces</a></li><li class="code"><a href="Network.html">Network</a></li><li class="code"><a href="Node.html">Node</a></li><li class="code"><a href="NodeList.html">NodeList</a></li><li class="code"><a href="Relation.html">Relation</a></li><li class="code"><a href="RelationList.html">RelationList</a></li><li class="code"><a href="Tree.html">Tree</a></li></ul></div><div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Namespaces</strong></div><ul>
<li class="code"><a href="NetworkConversions.html">NetworkConversions</a></li><li class="code"><a href="NetworkEncodings.html">NetworkEncodings</a></li><li class="code"><a href="NetworkGenerators.html">NetworkGenerators</a></li><li class="code"><a href="NetworkOperators.html">NetworkOperators</a></li><li class="code"><a href="TreeConversions.html">TreeConversions</a></li><li class="code"><a href="TreeEncodings.html">TreeEncodings</a></li></ul></div><h3>Misc</h3>
<div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Classes</strong></div><ul>
<li class="code"><a href="LoadEvent.html">LoadEvent</a></li><li class="code"><a href="MultiLoader.html">MultiLoader</a></li></ul></div><div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Namespaces</strong></div><ul>
<li class="code"><a href="FastHtml.html">FastHtml</a></li></ul></div><h3>Strings</h3>
<div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Classes</strong></div><ul>
<li class="code"><a href="StringList.html">StringList</a></li></ul></div><div class="space-bottom1"><div class="pad0y"><strong class="capitalize" keyline-all>Namespaces</strong></div><ul>
<li class="code"><a href="StringConversions.html">StringConversions</a></li><li class="code"><a href="StringListConversions.html">StringListConversions</a></li><li class="code"><a href="StringListOperators.html">StringListOperators</a></li><li class="code"><a href="StringOperators.html">StringOperators</a></li><li class="code"><a href="StringUtils.html">StringUtils</a></li></ul></div><h3>Functions</h3><ul><li class="small"><a href="global.html#getStructureLocalStorage">getStructureLocalStorage</a></li><li class="small"><a href="global.html#getStructureLocalStorageFromSeed">getStructureLocalStorageFromSeed</a></li><li class="small"><a href="global.html#setStructureLocalStorage">setStructureLocalStorage</a></li><li class="small"><a href="global.html#setStructureLocalStorageWithSeed">setStructureLocalStorageWithSeed</a></li></ul></div>
    </div>
  </div>
</div>
<div class='limiter margin2'>
    <div class='pad1y pad2x fill-white'>
      <div class='prose'>
        <div class='pad2y'>
          <h1 class='code'>Source: dataStructures/structures/lists/NodeList.js</h1>
        </div>
        



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import List from "src/dataStructures/lists/List";
import StringList from "src/dataStructures/strings/StringList";
import NumberList from "src/dataStructures/numeric/NumberList";
import Polygon from "src/dataStructures/geometry/Polygon";
import Node from "src/dataStructures/structures/elements/Node";
import Point from "src/dataStructures/geometry/Point";
import { typeOf } from "src/tools/utils/code/ClassUtils";

NodeList.prototype = new List();
NodeList.prototype.constructor = NodeList;

/**
 * @classdesc A sub-class of {@link List} for storing {@link Node|Nodes}.
 *
 * @description create a new NodeList.
 * @constructor
 * @category networks
 */
function NodeList() {
  //var array=List.apply(this, arguments);

  //if(arguments &amp;&amp; arguments.length>0) {c.l('UEUEUEUE, arguments.length', arguments.length); var a; a.push(0)};

  var array = NodeList.fromArray([]);

  if(arguments &amp;&amp; arguments.length > 0) {
    var args = Array.prototype.slice.call(arguments);

    args.forEach(function(arg) {
      array.addNode(arg);
    });
  }

  return array;
}
export default NodeList;

/**
 * Creates NodeList from raw Array.
 *
 * @param {Node[] | String[]} array Array to convert to
 * @param {Boolean} forceToNode If true, and input array is an array of Strings,
 * convert strings to Node instances with the strings used as the Node's id and name.
 * @return {NodeList}
 */
NodeList.fromArray = function(array, forceToNode) {
  forceToNode = forceToNode == null ? false : forceToNode;

  var result = List.fromArray(array);

  if(forceToNode) {
    for(var i = 0; i &lt; result.length; i++) {
      result[i] = typeOf(result[i]) == "Node" ? result[i] : (new Node(String(result[i]), String(result[i])));
    }
  }

  result.type = "NodeList";
  result.ids = {};
  // TODO: Fix
  Array(); //????

  //assign methods to array:
  result.deleteNodes = NodeList.prototype.deleteNodes;
  result.addNode = NodeList.prototype.addNode;
  result.addNodes = NodeList.prototype.addNodes;
  result.removeNode = NodeList.prototype.removeNode;
  result.removeNodeAtIndex = NodeList.prototype.removeNodeAtIndex;
  result.getNodeByName = NodeList.prototype.getNodeByName;
  result.getNodeById = NodeList.prototype.getNodeById;
  result.getNodesByIds = NodeList.prototype.getNodesByIds;
  result.getNewId = NodeList.prototype.getNewId;
  result.normalizeWeights = NodeList.prototype.normalizeWeights;
  result.getWeights = NodeList.prototype.getWeights;
  result.getIds = NodeList.prototype.getIds;
  result.getDegrees = NodeList.prototype.getDegrees;
  result.getPolygon = NodeList.prototype.getPolygon;

  result._push = Array.prototype.push;
  result.push = function(a) {
    console.log('with nodeList, use addNode instead of push');
    var k;
    k.push(a);
  };

  //overriden
  result.getWithoutRepetitions = NodeList.prototype.getWithoutRepetitions;
  result.removeElements = NodeList.prototype.removeElements;
  result.clone = NodeList.prototype.clone;

  return result;
};

/**
 * Clears NodeList.
 *
 */
NodeList.prototype.removeNodes = function() {
  for(var i = 0; i &lt; this.length; i++) {
    this.ids[this[i].id] = null;
    this.removeElement(this[i]);
  }
};

/**
 * Adds given Node to NodeList.
 *
 * @param {Node} node Node to add
 */
NodeList.prototype.addNode = function(node) {
  this.ids[node.id] = node;
  this._push(node);
};

/**
 * Adds all Nodes from another NodeList to this NodeList.
 *
 * @param {NodeList} nodes Nodes to add.
 */
NodeList.prototype.addNodes = function(nodes) {
  var i;
  for(i = 0; nodes[i] != null; i++) {
    this.addNode(nodes[i]);
  }
};

/**
 * Removes a given node from the list.
 *
 * @param {Node} node Node to remove.
 */
NodeList.prototype.removeNode = function(node) {
  this.ids[node.id] = null;
  this.removeElement(node);
};

/**
 * Removes a Node at a particular index of the NodeList
 *
 * @param {Number} index The index of the Node to remove.
 */
NodeList.prototype.removeNodeAtIndex = function(index) {
  this.ids[this[index].id] = null;
  this.splice(index, 1);
};

/**
 * Normalizes all weights associated with Nodes in NodeList
 * to a value between 0 and 1. Works under the assumption that weights are >= 0.
 */
NodeList.prototype.normalizeWeights = function() {
  var i;
  var max = -9999999;
  for(i = 0; this[i] != null; i++) {
    max = Math.max(this[i].weight, max);
  }
  for(i = 0; this[i] != null; i++) {
    this[i].weight /= max;
  }
};


/**
 * Returns Node with given name if present in the NodeList.
 * Very inefficient method. Use {@link .getNodeById} when possible
 *
 * @return {Node} Node with name matching input name. Null if no such Node.
 */
NodeList.prototype.getNodeByName = function(name) {
  var i;
  for(i = 0; i &lt; this.length; i++) {
    if(this[i].name == name) {
      return this[i];
    }
  }
  return null;
};

/**
 * Returns Node in NodeList with given Id.
 *
 * @param  {String} id Id of Node to return.
 * @return {Node}
 * tags:search
 */
NodeList.prototype.getNodeById = function(id) {
  return this.ids[id];
};

/**
 * Returns a new NodeList with all nodes in this
 * NodeList with Id's found in the given {@link NumberList}
 * of ids.
 *
 * @param {NumberList} ids Ids of Nodes to extract.
 * @return {NodeList}
 */
NodeList.prototype.getNodesByIds = function(ids) {
  var newNodelist = new NodeList();
  var node;
  for(var i = 0; ids[i] != null; i++) {
    node = this.ids[ids[i]];
    if(node != null) newNodelist[i] = node;
  }
  return newNodelist;
};

/**
 * Returns a {@link NumberList} of the weights associated
 * with each Node in the NodeList.
 *
 * @return {NumberList}
 * tags:
 */
NodeList.prototype.getWeights = function() {
  var numberList = new NumberList();
  for(var i = 0; this[i] != null; i++) {
    numberList[i] = this[i].weight;
  }
  return numberList;
};

/**
 * Returns a {@link StringList} of all the Ids
 * of the Nodes in the NodeList.
 *
 * @return {StringList}
 * tags:
 */
NodeList.prototype.getIds = function() {
  var list = new StringList();
  for(var i = 0; this[i] != null; i++) {
    list[i] = this[i].id;
  }
  return list;
};

/**
 * Returns a {@link NumberList} with a count of directly
 * connected Relations a Node has for each Node.
 *
 *
 * @return {NumberList} List containing the number
 * of Relations each Node has.
 */
NodeList.prototype.getDegrees = function() {
  var numberList = new NumberList();
  for(var i = 0; this[i] != null; i++) {
    numberList[i] = this[i].nodeList.length;
  }
  return numberList;
};


/**
 * Returns a {@link Polygon} constructed from all Nodes in
 * the NodeList by using the
 * &lt;strong>x&lt;/strong> and &lt;strong>y&lt;/strong> attributes of
 * the Nodes.
 *
 * @return {Polygon}
 */
NodeList.prototype.getPolygon = function(graphics) {
  var polygon = new Polygon();
  for(var i = 0; this[i] != null; i++) {
    polygon[i] = new Point(this[i].x + graphics.cX, this[i].y + graphics.cY);
  }
  return polygon;
};

NodeList.prototype.getNewId = function() {
  var n = this.length + 1;
  for(var i = 0; i &lt; n; i++) {
    if(this.getNodeById(String(i)) == null) return String(i);
  }
};

/**
 * Returns a copy of this NodeList.
 *
 * @return {NodeList}
 */
NodeList.prototype.clone = function() {
  var newNodeList = new NodeList();
  this.forEach(function(node) {
    newNodeList.addNode(node);
  });
  newNodeList.name = this.name;
  return newNodeList;
};


//methods overriden

/**
 * getWithoutRepetitions
 *
 * @return {undefined}
 * @ignore
 */
NodeList.prototype.getWithoutRepetitions = function() {
  var newList = new NodeList();
  var i;
  newList.name = this.name;
  for(i = 0; this[i]!=null; i++) {
    if(newList.getNodeById(this[i].id) == null) newList.addNode(this[i]);
  }
  return newList;
};

/**
 * removeElements
 *
 * @return {undefined}
 * @ignore
 */
NodeList.prototype.removeElements = function(nodeList) {
  var i;
  for(i = 0; this[i]!=null; i++) {
    //if(elements.indexOf(this[i]) > -1) {
    // c.l('                          this[i].id:', this[i].id);
    // c.l('                          nodeList.getNodeById(this[i].id):', nodeList.getNodeById(this[i].id));
    if( nodeList.getNodeById(this[i].id) != null ){
      this.ids[this[i].id] = null;
      this.splice(i, 1);
      //this.removeNode(this[i]);
      i--;
      // c.l('                            X, i, this.length', i, this.length);
    }
  }
};
</code></pre>
        </article>
    </section>




      </div>
    </div>
    <div class='quiet small center pad1y'>
    </div>
  </div>
  <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="scripts/filter.js"></script>
  <script src="scripts/prettify/prettify.js"></script>
</body>
</html>
